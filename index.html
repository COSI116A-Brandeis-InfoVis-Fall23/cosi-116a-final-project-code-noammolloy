<!DOCTYPE html>
<html lang="en">

<!-- Metadata -->
<head>
  <meta charset="utf-8">
  
  <!-- Title -->
  <title>Project Team Undergraduate 1: Federal Expenditures, COSI 116A F23</title>
  
  <!-- CSS Styling -->
  <link rel="stylesheet" href="style.css">
 
  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
  <link rel="manifest" href="favicons/site.webmanifest">
  <link rel="shortcut icon" href="favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="favicons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
  <script src = "https://d3js.org/d3-axis.v1.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://momentjs.com/downloads/moment.js"></script>
</head>

<!-- Main page content -->
<body>

  <!-- Update this with your GitHub repo URL -->
  <span id="forkongithub"><a href="https://github.com/COSI116A-Brandeis-InfoVis-Fall23/cosi-116a-final-project-code-undergraduate-1">Fork me on GitHub</a></span>

  <!-- Your writeup goes here -->
  <div class = "content-column">
  
    <h1>Project Team Undergraduate 1: Federal Expenditures, COSI 116A F23</h1>
    
    <p><strong>Noam Molloy</strong>, <strong>Caitlyn Pennie</strong>, <strong>Kirsten Tapalla</strong>, <strong>Lucas Dia</strong></p>
    
    <p>Project-long Course Project as part of COSI 116A: Information Visualization</a>, taught by <a href="https://cs.brandeis.edu/~dylan/">Prof. Dylan Cashman</a>, <a href="https://cs.brandeis.edu/">Brandeis University</a>.</p>
    
    
    <h1>Motivation</h1>
    <p>Our initial motivating questions were the following:</p>
    <ol type="1">
      <li>How has spending in different departments changed over time? </li>
      <li>How does the growth rate of income compare to debt level? </li>
      <li>How does spending change during and out of war time? </li>
    </ol>
    <p>
      Our project aims to give users a way to visualize how the federal expenditures have changed over time. 
      We'd like to allow the users to compare different expenditures over the years in different ways, 
      while also being able to see what historical events/circumstances may have caused these changes. 
      In order to do so, we realized that our visualization had to be interactive in a way that would allow users 
      to specify which departments they'd like to view for comparison. We would also have to present any possible 
      relevant major historical events over the years included in our data. Taking these needs into account, 
      we decided to include a timeline, treemap, linechart, and barchart in our final product. 
    </p>
    
    <h1>Visualization</h1>
    
  </div>
  
  <!-- Your visualization here -->
  <div class="vis-holder">
    <!-- Change viewbox to whatever you want, e.g. "0 0 1000 6000" This determines your aspect ratio and coordinate system -->    
    <!-- Delete all the sample SVG code below after the viewbox to before the closing tag. Populate this part of the SVG with D3. -->
    <!-- <svg id="vis-svg" -->
    <!-- preserveAspectRatio="xMidYMid meet" class="marks" viewBox="0 0 821 520"> -->
    
    <!-- Don't delete the closing tag! -->
    <!-- </svg> -->
        <div id="timeline"> 
          <div class="key" id="key">
            <h3>Timeline Key:</h3>
            <div class="key1">
              <div id="color1"></div>
              <div id="dot-com-bubble">
                <p>&emsp;Dot-com bubble&emsp;</p>
              </div>
              <div id="color2"></div>
              <div id="9-11">
                <p>&emsp;September 11 Attacks&emsp;</p>
              </div>
              <div id="color3"></div>
              <div id="afganistan-war">
                <p>&emsp;Afganistan War&emsp;</p>
              </div>
              <div id="color4"></div>
              <div id="iraq-war">
                <p>&emsp;Iraq War&emsp;</p>
              </div>
            </div>
            <div class="key2">
              <div id="color5"></div>
              <div id="russo-ukraine-war">
                <p>&emsp;Russo-Ukraine War&emsp;</p>
              </div>
              <div id="color6"></div>
              <div id="covid-recession">
                <p>&emsp;Covid-19 Recession&emsp;</p>
              </div>
              <div id="color7"></div>
              <div id="stock-market-crash">
                <p>&emsp;2020 Stock Market Crash&emsp;</p>
              </div>
            </div>
            <div class="key3">
              <div id="color8"></div>
              <div id="financial-crisis">
                <p>&emsp;Financial Crisis (2008)&emsp;</p>
              </div>
              <div id="color9"></div>
              <div id="subprime-morgage-crisis">
                <p>&emsp;Subprime Mortgage Crisis&emsp;</p>
              </div>
              <div id="color10"></div>
              <div id="chinese-property-crisis">
                <p>&emsp;Chinese property crisis&emsp;</p>
              </div>
            </div>
          </div>
          <div id="br"></div>
          <div id="circle4"></div>
          <div id="circle3"></div>
          <div id="circle2"></div>
          <div id="circle1"></div>
          <g id="tl"></g>
        </div>
    
    
    <div class="treemap-holder">
      <svg  id="treemap"
      preserveAspectRatio="xMidYMid meet" class="marks" viewBox="0 0 821 520"></svg>
    </div>

    <!-- <input id="year-slider" type="range" min="2000" max="2021" step="1" value="2021"> -->
    <div id="year-slider-holder"></div>
    <br><br><br>

    <div class="linegraph-holder">
      <svg id="linegraph"
      preserveAspectRatio="xMidYMid meet" class="marks" viewBox="0 0 821 520"></svg>
    </div>
    <div class="barchart-holder">
      <svg id="barchart"
      preserveAspectRatio="xMidYMid meet" class="marks" viewBox="0 0 900 400">
    </svg>
    </div>
  </div>
  
  <!-- Your writeup goes here -->
  <div class = "content-column">

    <h1>Demo Video</h1>
    
    <p><em>Embedded MP4 demo video using the HTML5 &lt;video&gt; tag. For example, this screen recording Prof. Cody Dunne made of Mike Bostock's flexible transitions in D3 slide:</em></p>
    
    <video controls width="100%">
      <source src="http://www.ccs.neu.edu/home/cody/courses/shared/d3-flexible-transitions.mp4" type="video/mp4">
      <p>Your browser doesn't support HTML5 video. Here is
       a <a href="http://www.ccs.neu.edu/home/cody/courses/shared/d3-flexible-transitions.mp4">link to the video</a> instead.</p>
    </video>

    <h1>Visualization explanation</h1>
    
    <p><em>Final visualization screenshots (PNG images), design justifications, UI walk-through, and linked presentation slides.</em></p>

    <h1>Data Analysis</h1>
    <p><em>Summary of data, data types, and data preprocessing.</em></p>

    <p><em>Expectation: Data sources match the problem statement and are appropriate. These descriptions should be very explicit so someone could read your page and properly reproduce your results.</em></p>

    <h1>Task Analysis</h1>

    <p><em>Summary of task table.</em></p>

    <table>
      <tr>
        <th>Rank</th>
        <th>Domain Task</th>
        <th>Analytic Task<br>(Low-Level)</th>
        <th>Search Task<br>(Mid-Level)</th>
        <th>Analyze Task<br>(High-Level)</th>
      </tr> 
      <tr>
        <td>1</td>
        <td>What is the general breakdown of US government expenditures over time?</td>
        <td>Summarize</td>
        <td>Explore</td>
        <td>Discover</td>
      </tr>
      <tr>
        <td>2</td>
        <td>How does a specific historical event affect government spending?</td>
        <td>Identify</td>
        <td>Browse</td>
        <td>Derive</td>
      </tr>
      <tr>
        <td>3</td>
        <td>How does the political party in power affect the focus of government spending?</td>
        <td>Compare</td>
        <td>Browse</td>
        <td>Discover/Derive</td>
      </tr>
      <tr>
        <td>4</td>
        <td>How do general categories break down into more specific federal expenditures?</td>
        <td>Identify</td>
        <td>Explore</td>
        <td>Discover</td>
      </tr> 
    </table>

    <p>The most important task was to answer the following question: what is the general breakdown of US Government expenditures over time? The analytic task that this completes is summarizing. The search task this completes is explore. The analyze task that this completes is discover.</p>

    <p>Next on the list was answering the question: how does a specific historical event affect government spending? The analytic task that this completes is identifying. The search task this completes is browse. The analyze task that this completes is derive.</p>

    <p>Then is the question: how does the political party in power affect the focus of government spending? The analytic task that this completes is compare. The search task this completes is browse. The analyze task that this completes is discover/derive.</p>

    <p>Finally there is also: how do general categories break down into more specific federal expenditures? The analytic task that this completes is identifying. The search task this completes is explore. The analyze task that this completes is discover.</p>

    <p>
      These are the 4 tasks we had intended to accomplish/complete when we began this project, 
      but we ultimately had to drop 2 of them in the end. We were able to accomplish our 2 highest 
      ranked tasks from the table, but we did not do the last 2 because we lacked the data needed 
      to do so and it just became to much for our group to be able to complete in time for the 
      project deadline. 
    </p>
    
    <p><em>Expectation: Clearly describes domain tasks, processes, goals and abstract tasks for domain problems.</em></p>

    <h1>Design Process</h1>
    
    <p><em>Sketches and design choices to justify final visualization.</em></p>
    <b><p><em>Caitlyn</em></p></b>
    <img src="/images/sketches/caitlyn/CaitlynPennie1.png">
    <br>
    <p> 
      <em>Text: </em>
      <br>
      "I chose to represent political party in power using red/blue background colors 
      because those are the colors everyone in the US associates w/ those parties and 
      it shows the terms of political parties in power showing total effects that could 
      be related to that. I chose a line graph because it tracks changes over time well 
      and multiple lines to allow for comparison. Color coding the lines (though not 
      necessarily with these colors) allows users to differentiate the lines. Line graphs 
      use both position horizontally and vertically to communicate information which made 
      it useful to communicate total expenditure each year for each department over time, 
      and the tilt shows a positive or negative change." 
    </p>
    <br>
    <img src="/images/sketches/caitlyn/CaitlynPennie2.png">
    <br>
    <p> 
      <em>Text: </em>
      <br>
      "I used shaped points to denote historical events because the shapes allow for a 
      matching to the timeline below and the points on the lines allow for easy identification
      of trends following the events. The area allows the user to more easily perceive 
      the differences. Line graphs use position horizontal and vertical to communicate, 
      which in this case would be expenditures over time and slope/tilt to show changes." 
    </p>
    <br>
    <img src="/images/sketches/caitlyn/CaitlynPennie3.png">
    <p> 
      <em>Text: </em>
      <br>
      "I used area to show differences between different expenditure departments. I used 
      position to denote time and showed both expenditures and historical events in that 
      time. I used position vertical to show quantity of money spent. I used color to denote 
      different departments." 
    </p>
    <br>

    <b><p><em>Noam</em></p></b>
    <img src="/images/sketches/noam/NoamMolloy1.png">
    <br>
    <p> 
      <em>Text: </em>
      <br>
      "This visualization would allow you to look at the spending over time by department, and
      you can select which historical event to focus on. The event is encoded with color to make 
      those years pop out, and I chose a barchart because bars make it easy to compare change 
      from year to year. This addresses the first and second tasks."
    </p>
    <br>
    <img src="/images/sketches/noam/NoamMolloy2.png">
    <br>
    <p> 
      <em>Text: </em>
      <br>
      "This visualization again breaks down each department's spending over time, but this time 
      using lines to better represent the relationships between each year. It will also include 
      each event with its highlighted region to show its timeframe. This also uses color to encode 
      the party in power, which addresses our third domain task."
    </p>
    <br>
    <img src="/images/sketches/noam/NoamMolloy3.png">
    <p> 
      <em>Text: </em>
      <br>
      "This visualization focuses on the fourth domain task of being able to view categories and 
      subcategories of departments. The initial visual is a pie chart to show how each category's 
      spending relates to one another, and then you can click on a category to get side-by-side 
      comparisons of each department's spending over time using a line graph."
    </p>
    <br>

    <b><p><em>Lucas</em></p></b>
    <img src="/images/sketches/lucas/LucasDia1.png">
    <br>
    <p> 
      <em>Text: </em>
      <br>
      ""
    </p>
    <br>
    <img src="/images/sketches/lucas/LucasDia2.png">
    <br>
    <p> 
      <em>Text: </em>
      <br>
      "This visualization would provide a deeper filter comparison between specific departments. 
      For masks and channels, I chose bars and size. It encodes the difference in spending between 
      chosen departments. This would fulfill a more specific version of the first task."
    </p>
    <br>
    <img src="/images/sketches/lucas/LucasDia3.png">
    <p> 
      <em>Text: </em>
      <br>
      "The goal of this visualization is to complete task 2 on our task table, which is to show the 
      impact of historical events on government spending. To do this, I use a line chart, which shows 
      change in spending over time, and allow the user to choose which departments they want to look 
      at, then it overlays a highlighted section in the background of when an event happened. To do this 
      I have used marks and channels like lines, area, and color. I use the lines in order to show 
      magnitude of cost, area for the duration of an event, and color for distinction between departments 
      and historical events."
    </p>
    <br>

    <b><p><em>Kirsten</em></p></b>
    <img src="/images/sketches/kirsten/KirstenTapalla1.jpg">
    <br>
    <p> 
      <em>Text: </em>
      <br>
      "This visualization would allow users to choose a political party from a table, then could 
      either go to a chart that would highlight/show/emphasize the information for the years that 
      political party was in power. For the graph on the right, the top portion of the graph would 
      show any significant historical events that were occurring during the years that the political 
      party was in power through horizontal lines. Then, the lines on the graph would represent the 
      federal expenditures for a particular category for those particular years. For the barchart on 
      the bottom, the top portion would also show any significant historical events that were occurring 
      during the years that the political party was in power through horizontal lines. Then, it would 
      have a more general view of federal expenditures for the years that the party was in power. The 
      bars would/could represent various different categories for the years being shown. I would use 
      colors on the bar graph to represent the different expenditure categories being shown 
      (ex: red for the Dept. of Defense and blue for the Dept. of Edu., etc.). This visualization would 
      address tasks 1-3 from our task table."
    </p>
    <br>
    <img src="/images/sketches/kirsten/KirstenTapalla2.jpg">
    <br>
    <p> 
      <em>Text: </em>
      <br>
      "This visualization would have a stacked/area line chart with various federal expenditures over the 
      years on one. The lines facing different directions and the dots on this first chart are used to show 
      that each category would be shaded in with a different color to help distinguish them from each other. 
      The users would be able to click on a specific category that they would like to see more information about, 
      which would then present them with a bar graph showing the changes for only that specific category over 
      time. The top of the barchart would would also have horizontal lines as indicators for what political 
      party was in power during what years (which would also use color to differentiate the political parties 
      from each other), and another set of horizontal lines as indicators as to what/when significant historical 
      events were taking place so that they could see if that influenced federal expenditures for that category 
      over the years. This visualization would address tasks 1-3 from our task table."
    </p>
    <br>
    <img src="/images/sketches/kirsten/KirstenTapalla3.jpg">
    <p> 
      <em>Text: </em>
      <br>
      "For this visualization, there would be a pie chart for a specific year that's 
      portioned/broken up based on what percent of overall federal expenditures were 
      spent on the different categories for that year. Different colors would be used 
      for each category being shown in the pie chart. Then, the user can click on a 
      specific category from the pie chart for that year, and a table will be shown with 
      information about the further subcategories that the money was spent on for that 
      selected category. Furthermore, there would also be 2 other tables being shown. 
      One table would be of what political party was in power for the years we have 
      information on (approx. 2001-2022). On that table, the row containing the year 
      being shown to the user and the political party in power for that political year 
      would be highlighted so it's easier for the user to see who was in power then. 
      Then, there would be another table highlighting any historical events that took 
      place during the year that information is being shown for in the pie chart. This 
      visualization would address tasks 1-4 from our task table."
    </p>
    <br>

    <b><p><em>Final Sketch</em></p></b>
    <br>
    <img src="/images/sketches/final/FinalSketch1.png">
    <br>
    <img src="/images/sketches/final/FinalSketch2.png">
    <p> 
      <!-- <em>Text: </em> -->
      <br>
      From our original task analysis table, we chose to prioritize our the 3 tasks mentioned above: 
      <ol type="1">
        <li>What is the general breakdown of US Government expenditures over time? </li>
        <li>How does a specific historical event affect government spending?</li>
        <li>How does the political party in power affect the focus of government spending? </li>
      </ol>
      We created the final sketch of our visualizations by combining different aspects from our 
      chosen top 3 sketches, which were Caitlyn's 2nd sketch, Lucas's 3rd sketch, and Kirsten's 
      2nd sketch. Our intended design helps the user complete these by allowing them to see changes in 
      expenditures over time, both overall and for any specific departments they wish to view, 
      through the bar chart and the line chart. The heat map would also show them the overall 
      breakdown for each year. Furthermore, users would be able to toggle what significant historical events 
      they’d like shown and whether or not they want the political parties in power to be presented 
      as well, allowing them to see how the different federal expenditures may have been impacted 
      by those things. 
      <br><br>
      Overall, not much changed from our original plans, but we did have some slight deviations. We ended up 
      combining different aspects of our own individual sketches/visualizations to come up with the final one. 
      While we originally had a 4th domain task hoping to show more specific data for the general 
      categories/departments, we decided to forgo this because we lack the specific data for each category and 
      for every year to complete that task. Furthermore, we also had to drop the the 3rd domain task hoping to 
      help visualize the impact of the ruling political party on federal expenditures because it became too much 
      for our group to do. 
    </p>
    <br>

    <p><em>Expectation: Evidence of iterative improvement.
    Logical discussion of design choices grounded in theory from course.
    Discusses feedback from usability testing.</em></p>

    <h1>Sprint 1 Task Reflection</h1>
    <b><p><em>Noam</em></p></b>
    <p>
      For this sprint, I created the initial treemap using the Gross Cost for each 
      department using the federal expenditures dataset. Currently, it only shows 
      data for the initial year, 2021, but I will create a year selector that will 
      allow for better data exploration. There are also other formatting issues with 
      the current treemap that I will fix for next time such as the chart size and 
      label text wrapping.
    </p>

    <b><p><em>Caitlyn</em></p></b>
    <p>
      For this sprint, I created the axis and structure for the timeline. Currently 
      I have it in a script tag in the html file because of difficulties getting it 
      to render on the page in the javascript file. This will be changed before the 
      final assignment is due and I plan to work on it over break and if I cannot 
      figure it out attend the first office hours after break. 
    </p>

    <b><p><em>Kirsten</em></p></b>
    <p>
      For this sprint, I was trying to create the bar graph for either the byDepartment 
      or byYear options, but with very basic data just to test it out first. I’ve created 
      the proper files and tried implementing it the way we’ve done for previous assignments, 
      but I can’t seem to get the bar graph to show on the website at all (even for the bar 
      graph we made for a previous class assignment). I’ve left the code for this in the project, 
      but I need to work on it over break so I can figure out why it’s not showing up on the page. 
      After that, I’ll be able to actually use the data we have to get it working. If I can’t 
      figure it out, I’ll go to office hours to ask for help.
    </p>

    <b><p><em>Lucas</em></p></b>
    <p>
      For this sprint I was working on the linegraph. Right now it is just a basic linegraph 
      with one line for each department representing the gross cost. I still need to fix some 
      things about it, like repeating colors, a more readable legend, and adding in an option 
      to select which departments you want to look at. Additionally I think it would be very 
      nice to have color continuity over all the graphs. Also when there are lots of lines on 
      the graph it becomes unreadable, so I will be thinking about ways to improve that. 
    </p>
    
    <h1>Conclusion</h1>

    <p><em>Short summary of work completed and areas for improvement/future-work.</em></p>
    
    <p><em>Expectation: Meaningfully wraps up project and has good future directions.</em></p>

    
    <h1>Acknowledgments</h1>

    <p><em>List here where any code, packages/libraries, text, images, designs, etc. that you leverage come from.</em></p>
    
    <ul>
      <li><a href="https://d3js.org/">D3: Data-Driven Documents</a> by Mike Bostock.</li>
      <li><a href="https://codepo8.github.io/css-fork-on-github-ribbon/#">Pure CSS responsive "Fork me on GitHub" ribbon</a> by Chris Heilmann.</li>
    </ul>
    
  </div>
  
  <!-- Scripts at the end avoid need for dealing with async, defer, or onload event handlers -->
  <script src="lib/d3.v4/d3.v4.js"></script>
  <script src="js/yearslider.js"></script>
  <script src="js/treemap.js"></script>
  <script src="js/barchart.js"></script>
  <script src="js/linegraph.js"></script>
  <script src="js/timeline.js"></script>
  <script src="js/visualization.js"></script>
  
  
</body>
</html>
